<html><head><title>service worker loader</title><style>body{background:red}</style></head><body> <script type="module">var e;e=new URL("service-worker.js",import.meta.url).toString(),navigator.serviceWorker.register(e).then((e=>{console.log("SERVICE WORKER: registered.",e)})).catch((e=>{console.log("SERVICE WORKER: registration failed:",e)})),navigator.serviceWorker.addEventListener("install",(e=>{console.log("SERVICE WORKER: installing")})),navigator.serviceWorker.addEventListener("activate",(e=>{console.log("SERVICE WORKER: activating")})),navigator.serviceWorker.onmessage=e=>{console.log("SERVICE WORKER: message received"),window.ReactNativeWebView?.postMessage(JSON.stringify(e.data))},window.postMessageToBackgroundViaWebview=e=>{console.log("SERVICE WORKER: message sent"),navigator.serviceWorker.controller.postMessage(e)},document.querySelector("body").style.background="green";</script> </body></html>